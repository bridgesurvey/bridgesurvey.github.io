<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BRIDGES - Baryon Recycling In Dwarf Galaxies Emission Survey</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Times New Roman', Times, serif;
            line-height: 1.6;
            color: #e0e0e0;
            background: #233c55d2;
            overflow-x: hidden;
        }

        /* Navigation */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background: #9b95c2ab;
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: #233c55;
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            color: #d2defc;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: #233c55;
        }

        /* Hero Section */
        .hero {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding-top: 80px;
        }

        .hero-content h1 {
            font-size: 10rem;
            margin-bottom: 1rem;
            background: linear-gradient(20deg,#9eaed8,#9b95c2,#E8C9EB);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-content p {
            font-size: 2rem;
            margin-bottom: 2rem;
            opacity: 1;
            background: linear-gradient(20deg,#9eaed8,#9b95c2,#E8C9EB);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .scroll-indicator {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            animation: bounce 2s infinite;
        }

        /* Main Visual Section - Reduced height */
        .visual-section {
            position: relative;
            height: 500vh; /* Reduced from 800vh */
        }

        .graphic-container {
            position: sticky;
            top: 0;
            width: 100%;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .cgm-graphic {
            position: relative;
            width: 120vw;
            height: 120vh;
            max-width: none;
            max-height: none;
            margin-left: -10vw; /* Center the oversized graphic */
            margin-top: -10vh;
        }

        .layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1s ease, transform 1s ease;
            border-radius: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            font-weight: bold;
            text-align: center;
        }

        /* Galaxy layer */
        .layer-galaxy {
            background-image: url('baryon_cycle_galaxy.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: 65% 80%;
        }

        /* Recycling layer */
        .layer-recycling {
            background-image: url('baryon_cycle_recycling.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: 65% 80%;
        }

        /* Outflow layer */
        .layer-outflow {
            background-image: url('baryon_cycle_outflows.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: 65% 80%;
        }

        /* CGM layer */
        .layer-cgm {
            background-image: url('baryon_cycle_cgm.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: 65% 80%;
        }

        /* Inflow layer */
        .layer-inflow {
            background-image: url('baryon_cycle_inflows.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: 65% 80%;
        } 
        .layer.visible {
            opacity: 1;
            transform: scale(1);
        }

        /* Improved Information Panels */
        .info-panel {
            position: fixed;
            right: -400px; /* Slightly smaller for smoother animation */
            top: 50%;
            transform: translateY(-50%);
            width: 380px;
            height: 450px;
            background: #233c55d2;
            backdrop-filter: blur(15px);
            padding: 2rem;
            border-radius: 15px;
            border: 1px solid rgba(100, 181, 246, 0.3);
            transition: right 0.5s cubic-bezier(0.4, 0, 0.2, 1); /* Smoother easing */
            z-index: 100;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .info-panel.visible {
            right: 2rem;
        }

        .info-panel h3 {
            color: #9b95c2;
            margin-bottom: 1rem;
            font-size: 1.4rem;
            border-bottom: 2px solid #9b95c2b3;
            padding-bottom: 0.5rem;
        }

        .info-panel p {
            margin-bottom: 1rem;
            opacity: 0.9;
            line-height: 1.6;
        }

        /* Survey Description Section */
        .survey-section {
            padding: 4rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
            background: #233c55d2;
            border-radius: 20px;
            margin-top: 2rem;
            margin-bottom: 2rem;
        }

        .survey-section h2 {
            font-size: 2.5rem;
            margin-bottom: 2rem;
            text-align: center;
            color: #9b95c2;
        }

        .survey-section p {
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
            opacity: 0.9;
        }

        .goals-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .goal-card {
            background: #4b607678;
            padding: 2rem;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s ease, border-color 0.3s ease;
        }

        .goal-card:hover {
            transform: translateY(-5px);
            border-color: #9b95c2;
        }

        .goal-card h3 {
            color: #9b95c2;
            margin-bottom: 1rem;
        }

        /* Sample Section Styles */
        .sample-section {
            margin-top: 4rem;
            padding-top: 3rem;
            border-top: 2px solid #9b95c2b3;
        }

        .sample-section h3 {
            font-size: 2rem;
            color: #9b95c2;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .sample-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .sample-item {
            background: #4b607678;
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid rgba(100, 181, 246, 0.2);
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .sample-item h4 {
            color: #9b95c2;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .sample-item p {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 0.8rem;
        }

        .sample-detail {
            font-size: 0.9rem;
            font-style: italic;
            line-height: 1.4;
        }

        /* Animations */
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateX(-50%) translateY(0);
            }
            40% {
                transform: translateX(-50%) translateY(-10px);
            }
            60% {
                transform: translateX(-50%) translateY(-5px);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-content h1 {
                font-size: 2.5rem;
            }
            
            .nav-links {
                display: none;
            }
            
            .info-panel {
                width: 280px;
                padding: 1.5rem;
                right: -300px;
            }
            
            .info-panel.visible {
                right: 1rem;
            }
            
            .cgm-graphic {
                width: 95vw;
                height: 85vh;
                margin: 0 auto;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-content">
            <a href="#" class="logo">BRIDGES</a>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#survey">Survey</a></li>
                <li><a href="#data">Data</a></li>
                <li><a href="#team">Team</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content">
            <h1>BRIDGES</h1>
            <p><strong>B</strong>aryon <strong>R</strong>ecycling <strong>I</strong>n <strong>D</strong>warf <strong>G</strong>alaxies <strong>E</strong>mission <strong>S</strong>urvey</p>
        </div>
        <div class="scroll-indicator">
            <div style="color: #9b95c2; font-size: 2rem;">↓</div>
        </div>
    </section>

    <!-- Main Visual Section -->
    <section class="visual-section">
        <div class="graphic-container">
            <div class="cgm-graphic">
                <div class="layer layer-galaxy" id="layer-galaxy"></div>
                <div class="layer layer-recycling" id="layer-recycling"></div>
                <div class="layer layer-outflow" id="layer-outflow"></div>
                <div class="layer layer-cgm" id="layer-cgm"></div>
                <div class="layer layer-inflow" id="layer-inflow"></div>
            </div>
        </div>

        <!-- Information Panels -->
        <div class="info-panel" id="panel-galaxy">
            <h3>Dwarf Galaxy</h3>
            <p>The central stellar component of dwarf galaxies, where star formation occurs and stellar feedback originates.</p>
            <p>BRIDGES targets the circumgalactic medium around these low-mass systems to understand baryon cycling.</p>
        </div>

        <div class="info-panel" id="panel-recycling">
            <h3>Gas Recycling</h3>
            <p>The complex process by which gas is expelled from the galaxy and later re-accreted, enriching the circumgalactic medium.</p>
            <p>This recycling process is fundamental to understanding how dwarf galaxies evolve over cosmic time.</p>
        </div>

        <div class="info-panel" id="panel-outflow">
            <h3>Stellar Feedback Outflows</h3>
            <p>Hot, metal-enriched gas driven out by supernovae and stellar winds from the central galaxy.</p>
            <p>These outflows redistribute metals and regulate star formation efficiency.</p>
        </div>

        <div class="info-panel" id="panel-cgm">
            <h3>Circumgalactic Medium</h3>
            <p>The extended gaseous atmosphere surrounding the galaxy, containing a significant fraction of the halo's baryons.</p>
            <p>The CGM serves as the interface between the galaxy and the cosmic web, mediating gas flows.</p>
        </div>

        <div class="info-panel" id="panel-inflow">
            <h3>Pristine Gas Inflows</h3>
            <p>Cold, metal-poor gas streams feeding the galaxy from the cosmic web and intergalactic medium.</p>
            <p>These inflows provide the raw material for continued star formation in dwarf systems.</p>
        </div>
    </section>

    <!-- Survey Description -->
    <section class="survey-section" id="survey">
        <h2>About the BRIDGES Survey</h2>
        <p>
            An important question regarding galaxy evolution is how galaxies grow and obtain the fuel needed for star formation. Resolved studies of galaxies have provided an understanding of many processes driving the short term evolution of the interstellar medium, such as star formation, feedback, and chemical enrichment. Far less understood is how these processes depend on, and impact, the baryon cycle: the flow of baryons between a galaxy and its circumgalactic medium (CGM). 
            The CGM contains as much as 50% of a galaxy's baryons and is the interface between star formation processes and a galaxy's gas supply.  It is becoming increasingly clear that the long term evolution of galaxies cannot be robustly constrained without characterizing the complex relationships of these interchanging baryonic reservoirs, and how gas is accreted, used, ejected, and recycled.
        </p>
        <p>
            Dwarf galaxies serve as ideal laboratories for understanding the key components of the baryon cycle: their shallow potential wells make them highly sensitive to stellar feedback processes, and we also expect these low mass galaxies to have low virial temperatures, implying the possibility of a CGM rich in cold accretion, in which cool gas efficiently inflows and settles, perhaps explaining the degree to which nearly all isolated dwarf galaxies are actively star forming.
        </p>
        <p>
            The <strong>B</strong>aryon <strong>R</strong>ecycling <strong>I</strong>n <strong>D</strong>warf <strong>G</strong>alaxies <strong>E</strong>mission <strong>S</strong>urvey survey (BRIDGES) represents a comprehensive observational campaign to map and characterize the baryon cycle and the missing key in these processes -- the CGM -- in dwarf galaxies. With a combination of high resolution IFU data (Keck/KCWI) and wide field of view, low surface brightness narrowband imaging data (Mothra/Dragonfly), BRIDGES traces the complete baryon cycle: from pristine gas accretion through star formation to metal-enriched outflows and the eventual recycling of processed material back into the galaxy.
        </p>

        <div class="goals-grid">
            <div class="goal-card">
                <h3>Map CGM Structure</h3>
                <p>Characterize the spatial distribution, ionization, and kinematics of gas around dwarf galaxies using direct emission mapping in Hα, [OIII], and [NII].</p>
            </div>
            <div class="goal-card">
                <h3>Identify Signatures of Starbursts</h3>
                <p>Constrain the burstiness of star formation in dwarf galaxies and its impact (or dependence on) the CGM.</p>
            </div>
            <div class="goal-card">
                <h3>Constrain Feedback Models</h3>
                <p>Provide observational benchmarks for theoretical models of stellar feedback and its impact on galaxy evolution.</p>
            </div>
        </div>

        <!-- Sample Description Subsection -->
        <div class="sample-section">
            <h3>Survey Sample</h3>
            <p>The BRIDGES sample is carefully selected to provide a comprehensive view of dwarf galaxy physics across a range of environments and evolutionary states.</p>
            
            <div class="sample-grid">
                <div class="sample-item">
                    <h4>Stellar Mass</h4>
                    <p>10<sup>7</sup> - 10<sup>9</sup> M<sub>☉</sub></p>
                    <span class="sample-detail">Covering around SMC to LMC mass galaxies, where we expect low virial temperatures and the settling of cool ionized gas.</span>
                </div>
                
                <div class="sample-item">
                    <h4>Redshift</h4>
                    <p>z &lt 0.01</p>
                    <h4>Declination</h4>
                    <p>-20° - 10°</p>
                    <span class="sample-detail">Local Universe sample, visible Chile (Mothra) and Hawaii (Keck), enabling detailed CGM and internal galaxy characterization.</span>
                </div>
                
                <div class="sample-item">
                    <h4>Isolation Criteria</h4>
                    <p>≥ 1.5 Mpc from massive (M<sub>*</sub> &gt 10<sup>9</sup>M<sub>☉</sub>) hosts</p>
                    <span class="sample-detail">Ensuring halo gas has not been stripped as is expected in low mass satellite galaxies.</span>
                </div>
                
                <div class="sample-item">
                    <h4>Archival Data</h4>
                    <p>Spatially resolved HI data</p>
                    <span class="sample-detail">Gas rich galaxies where we can cross compare neutral and ionized gas components.</span>
                </div>
            </div>
        </div>

    </section>

    <script>
        // Improved scroll-triggered animations with bidirectional support
        const layers = [
            { element: document.getElementById('layer-galaxy'), panel: document.getElementById('panel-galaxy') },
            { element: document.getElementById('layer-recycling'), panel: document.getElementById('panel-recycling') },
            { element: document.getElementById('layer-outflow'), panel: document.getElementById('panel-outflow') },
            { element: document.getElementById('layer-cgm'), panel: document.getElementById('panel-cgm') },
            { element: document.getElementById('layer-inflow'), panel: document.getElementById('panel-inflow') }
        ];

        let currentActiveIndex = -1;

        function updateLayers() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const windowHeight = window.innerHeight;
            const visualSection = document.querySelector('.visual-section');
            const visualSectionTop = visualSection.offsetTop;
            const visualSectionHeight = visualSection.offsetHeight;
            
            // Calculate relative scroll position within the visual section
            const relativeScroll = scrollTop - visualSectionTop + windowHeight;
            const sectionProgress = relativeScroll / visualSectionHeight;
            
            // More responsive trigger points with ranges for better bidirectional behavior
            const triggerRanges = [
                { start: 0.10, end: 0.30 },  // Galaxy
                { start: 0.25, end: 0.45 },  // Recycling
                { start: 0.40, end: 0.60 },  // Outflow
                { start: 0.55, end: 0.75 },  // CGM
                { start: 0.70, end: 0.95 }   // Inflow
            ];
            
            let newActiveIndex = -1;
            
            // Find which layer should be active based on ranges
            for (let i = 0; i < triggerRanges.length; i++) {
                if (sectionProgress >= triggerRanges[i].start && sectionProgress <= triggerRanges[i].end) {
                    newActiveIndex = i;
                    break;
                }
            }
            
            // If we're past all ranges but still in the visual section, show the last layer
            if (newActiveIndex === -1 && sectionProgress > triggerRanges[triggerRanges.length - 1].start && sectionProgress <= 1.0) {
                newActiveIndex = triggerRanges.length - 1;
            }
            
            // Always update layers and panels (not just when index changes)
            // Hide all layers and panels first
            layers.forEach((layer, index) => {
                layer.element.classList.remove('visible');
                layer.panel.classList.remove('visible');
            });
            
            // Show layers up to and including the current one
            if (newActiveIndex >= 0 && sectionProgress >= 0.1 && sectionProgress <= 1.0) {
                for (let i = 0; i <= newActiveIndex; i++) {
                    layers[i].element.classList.add('visible');
                }
                
                // Show only the current panel
                layers[newActiveIndex].panel.classList.add('visible');
            }
            
            currentActiveIndex = newActiveIndex;
        }

        // Use requestAnimationFrame for smoother performance
        let ticking = false;
        
        function onScroll() {
            if (!ticking) {
                requestAnimationFrame(() => {
                    updateLayers();
                    ticking = false;
                });
                ticking = true;
            }
        }

        // Add scroll listener
        window.addEventListener('scroll', onScroll, { passive: true });
        
        // Initial call
        updateLayers();

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>